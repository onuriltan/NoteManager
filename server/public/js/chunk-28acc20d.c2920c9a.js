(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28acc20d"],{"3bea":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LoginComponent")},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("b-form",{staticClass:"login-form",on:{submit:function(t){t.preventDefault(),e.login()}}},[n("h2",{staticClass:"login-form__header"},[e._v("Login")]),e.errors.length>0?n("div",{staticClass:"login-form__errors"},e._l(e.errors,function(t,i){return n("b-alert",{key:i,staticClass:"login-form__errors__error",attrs:{show:"",variant:"danger",size:"lg"}},[e._v("\n        "+e._s(t.msg)+"\n      ")])}),1):e._e(),n("b-form-group",{attrs:{id:"email",label:"Email","invalid-feedback":e.invalidEmailMessage,"label-for":"email"}},[n("b-form-input",{staticClass:"login-form__input",attrs:{id:"email",type:"email",state:e.emailCorrectState,size:"lg"},nativeOn:{keydown:function(t){return e.validateEmail(t)}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),n("b-form-group",{attrs:{id:"password",label:"Password","invalid-feedback":e.invalidPasswordMessage,"label-for":"password"}},[n("b-form-input",{staticClass:"login-form__input",attrs:{id:"password",type:"password",state:e.passwordCorrectState,size:"lg"},nativeOn:{keydown:function(t){return e.validatePassword(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("div",{staticStyle:{"font-weight":"bold",margin:"30px 0","text-align":"center"}},[n("router-link",{attrs:{to:"/register"}},[e._v("Dont have an account? Register from here!")])],1),n("b-button",{staticClass:"login-form__button",class:{"button--loading":e.loginClicked},attrs:{type:"submit",variant:"success",size:"lg"}},[n("i",{staticClass:"fa fa-refresh fa-spin hide--button--loading--icon",class:{"show--button--loading--icon":e.loginClicked}}),n("div",{staticStyle:{margin:"0 5px"}},[e._v("\n        Login\n      ")])]),n("div",{staticClass:"login-form__social-container"},[n("FacebookLogin"),n("GoogleLogin")],1)],1)],1)},r=[],a=(n("96cf"),n("3b8d")),l=n("b9e4"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-btn",{staticClass:"facebook-button",class:{"button--loading":e.fbLoginClicked},on:{click:function(t){e.loginWithFacebook()}}},[n("i",{staticClass:"fa fa-refresh fa-spin hide--button--loading--icon",class:{"show--button--loading--icon":e.fbLoginClicked}}),n("div",{staticStyle:{margin:"0 5px"}},[e._v("\n    Login with Facebook\n  ")])])},d=[],u={name:"FacebookLogin",data:function(){return{fbLoginClicked:!1}},mounted:function(){var e="395758120994334";window.fbAsyncInit=function(){FB.init({appId:e,autoLogAppEvents:!0,xfbml:!0,version:"v3.2"})},function(e,t,n){var i,s=e.getElementsByTagName(t)[0];e.getElementById(n)||(i=e.createElement(t),i.id=n,i.src="https://connect.facebook.net/en_US/sdk.js",s.parentNode.insertBefore(i,s))}(document,"script","facebook-jssdk")},methods:{loginWithFacebook:function(){this.fbLoginClicked=!0,FB.login(function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.authResponse){e.next=5;break}return e.next=3,this.$store.dispatch("loginWithFacebook",t.authResponse.accessToken);case 3:e.next=6;break;case 5:console.log("User cancelled login or did not fully authorize.");case 6:this.fbLoginClicked=!1;case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}().bind(this),{scope:"public_profile,email",return_scopes:!0})}}},g=u,f=(n("e02e"),n("2877")),m=Object(f["a"])(g,c,d,!1,null,"76d7e16a",null);m.options.__file="FacebookLogin.vue";var p=m.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-btn",{staticClass:"google-button",class:{"button--loading":e.googleLoginClicked},on:{click:e.loginWithGoogle}},[n("i",{staticClass:"fa fa-refresh fa-spin hide--button--loading--icon",class:{"show--button--loading--icon":e.googleLoginClicked}}),n("div",{staticStyle:{margin:"0 5px"}},[e._v("\n      Login with Google\n    ")])])],1)},w=[],b={name:"GoogleLogin",data:function(){return{googleLoginClicked:!1}},mounted:function(){var e=document.createElement("script");e.setAttribute("src","https://apis.google.com/js/platform.js"),document.head.appendChild(e);var t=document.createElement("meta");t.name="google-signin-client_id",t.content="558526944070-5dckm1c3h93snmai163tegumcf6hf3c6.apps.googleusercontent.com",document.getElementsByTagName("head")[0].appendChild(t)},methods:{loginWithGoogle:function(){this.googleLoginClicked=!0,window.gapi.load("auth2",Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=gapi.auth2.init({client_id:"558526944070-5dckm1c3h93snmai163tegumcf6hf3c6.apps.googleusercontent.com",scope:"profile"}),n=null,e.next=4,t.signIn().then(Object(a["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.currentUser.get().Zi.access_token;case 1:case"end":return e.stop()}},e,this)})));case 4:if(null===n){e.next=7;break}return e.next=7,this.$store.dispatch("loginWithGoogle",t.currentUser.get().Zi.access_token);case 7:this.googleLoginClicked=!1;case 8:case"end":return e.stop()}},e,this)})).bind(this))}}},v=b,k=(n("680e"),Object(f["a"])(v,h,w,!1,null,"0f94a1b6",null));k.options.__file="GoogleLogin.vue";var _=k.exports,E={name:"LoginComponent",components:{FacebookLogin:p,GoogleLogin:_},data:function(){return{errors:[],fieldErrors:{email:null,password:null},email:"",password:"",loginClicked:!1,isEmailEntered:!1,isPasswordEntered:!1}},computed:{invalidEmailMessage:function(){return this.fieldErrors.email},invalidPasswordMessage:function(){return this.fieldErrors.password},isValidForm:function(){return""===this.fieldErrors.email&&""===this.fieldErrors.password},emailCorrectState:function(){return!(!this.isEmailEntered||""!==this.invalidEmailMessage)||(!this.isEmailEntered||""===this.invalidEmailMessage)&&null},passwordCorrectState:function(){return!(!this.isPasswordEntered||""!==this.invalidPasswordMessage)||(!this.isPasswordEntered||""===this.invalidPasswordMessage)&&null}},methods:{validateEmail:function(){var e=this;setTimeout(function(){e.isEmailEntered=!0,e.fieldErrors.email=Object(l["b"])(e.email)},600)},validatePassword:function(){var e=this;setTimeout(function(){e.isPasswordEntered=!0,e.fieldErrors.password=Object(l["d"])(e.password)},600)},login:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.errors=[],this.fieldErrors=Object(l["c"])(this.email,this.password),this.isValidForm&&(this.loginClicked=!0,setTimeout(Object(a["a"])(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("login",{email:t.email,password:t.password});case 2:n=e.sent,t.loginClicked=!1,n.data.fieldErrors&&(t.fieldErrors=n.data.fieldErrors),n.data.errors&&(t.errors=n.data.errors);case 6:case"end":return e.stop()}},e,this)})),1e3));case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},C=E,L=(n("b7d7"),Object(f["a"])(C,o,r,!1,null,"dba948bc",null));L.options.__file="Login.vue";var P=L.exports,x={name:"login",components:{LoginComponent:P}},y=x,j=Object(f["a"])(y,i,s,!1,null,null,null);j.options.__file="LoginView.vue";t["default"]=j.exports},"680e":function(e,t,n){"use strict";var i=n("815a"),s=n.n(i);s.a},"815a":function(e,t,n){},"89f2":function(e,t,n){},b68a:function(e,t,n){},b7d7:function(e,t,n){"use strict";var i=n("b68a"),s=n.n(i);s.a},b9e4:function(e,t,n){"use strict";function i(e,t,n){var i={email:"",password:"",password2:""};return e?l(e)?i.email="":i.email="Email is not valid.":i.email="Email required.",t?t.length<6?i.password="Password length should be 6.":i.password="":i.password="Password required.",n?n.length<6?i.password2="Repeat password length should be 6.":n!==t?(i.password="Passwords does not match.",i.password2="Passwords does not match."):(i.password2="",i.password=""):i.password2="Repeat password required.",i}function s(e){var t="";return t=e?l(e)?"":"Email is not valid.":"Email required.",t}function o(e){var t="";return t=e?e.length<6?"Password length should be 6.":"":"Password required.",t}function r(e,t){var n={email:"",password:""};return e?l(e)?n.email="":n.email="Email is not valid.":n.email="Email required.",t?t.length<6?n.password="Password length should be 6.":n.password="":n.password="Password required.",n}function a(e,t){var n={oldPassword:"",newPassword:""};return e?e.length<6&&(n.oldPassword="Password length should be 6."):n.oldPassword="Old password required.",t?t.length<6&&(n.newPassword="Password length should be 6."):n.newPassword="New password required.",n}function l(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}n.d(t,"e",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return a})},e02e:function(e,t,n){"use strict";var i=n("89f2"),s=n.n(i);s.a}}]);
//# sourceMappingURL=chunk-28acc20d.c2920c9a.js.map